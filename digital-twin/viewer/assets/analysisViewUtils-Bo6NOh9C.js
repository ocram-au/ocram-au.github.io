import{e as v,a as u,G as l,T as o,h5 as d,W as w,aH as h,i0 as f}from"./index-D5ClABWK.js";import{n as y}from"./ShadedColorMaterial.glsl-Dw_LwP7b.js";let n=class extends y{constructor(t){super(t)}initialize(){this.addHandles(l(()=>this.analysisViewData.visible,t=>this.visible=t,o))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};n=v([u("esri.views.interactive.AnalysisToolBase")],n);function D(t,i){t.interactive=!0;const{tool:a,view:s}=t;s.activeTool=a;let e=d(i,()=>{s.activeTool===a&&(s.activeTool=null)});return w(async r=>{await h(()=>a==null||!a.active,r),e=f(e)},i)}function b(t,i){return l(()=>t.interactive,()=>m(t,i),o)}function m(t,i){t.interactive?$(t,i):c(t)}function $(t,i){c(t);const{view:a,analysis:s}=t,e=new i({view:a,analysis:s,analysisViewData:t});return t.tool=e,a.tools.add(e),e}function c(t){const{view:i,tool:a}=t;a!=null&&(i.tools.remove(a),t.tool=null)}export{b as a,D as l,n as o,c as v};
